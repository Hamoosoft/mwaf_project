<!doctype html>
<html lang="de" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout('Admin Â· Bestellungen', ~{::content})}">

<div th:fragment="content">
    <div class="page-header">
        <h2>ðŸ“¦ Alle Bestellungen</h2>
        <p class="muted">Nur Admin kann diese Seite sehen.</p>
    </div>

    <!-- Leerzustand -->
    <div class="hero__card profile-card" th:if="${#lists.isEmpty(orders)}">
        <p class="muted">Noch keine Bestellungen vorhanden.</p>
    </div>

    <!-- Liste -->
    <div th:unless="${#lists.isEmpty(orders)}">
        <div class="hero__card profile-card order-card"
             th:each="o : ${orders}">
            <div class="order-card__row">
                <div>
                    <b>Bestellung #<span th:text="${o.id}">0</span></b>
                    <div class="muted">
                        Status: <span th:text="${o.status}">NEW</span>
                        <span class="dot">Â·</span>
                        <span th:text="${#temporals.format(o.orderedAt, 'dd.MM.yyyy HH:mm')}">-</span>
                    </div>
                </div>

                <!-- Details -->
                <a class="btn btn--ghost" th:href="@{/orders/{id}(id=${o.id})}">Details</a>
            </div>
        </div>
    </div>

    <div class="btnRow" style="margin-top:16px">
        <!-- âœ… Fix: richtiger ZurÃ¼ck-Link -->
        <a class="btn btn--ghost" th:href="@{/admin}">â¬… Admin Dashboard</a>
    </div>
</div>

</html>
