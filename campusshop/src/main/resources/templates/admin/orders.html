<!doctype html>
<html lang="de" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{admin/layout-admin :: layout('Admin Â· Bestellungen', ~{::content})}">

<div th:fragment="content">

    <div class="page-header">
        <h2>ğŸ“¦ Admin Â· Bestellungen</h2>
        <p class="muted">
            Hier siehst du alle Bestellungen. Klicke auf <b>Bearbeiten</b>, um den Status zu Ã¤ndern.
        </p>
    </div>

    <!-- Leerzustand -->
    <div class="hero__card profile-card"
         th:if="${orders == null || #lists.isEmpty(orders)}"
         style="text-align:center; padding:22px;">
        <div style="font-size:34px; margin-bottom:6px;">ğŸ—‚ï¸</div>
        <p class="muted" style="margin:0;">Noch keine Bestellungen vorhanden.</p>
    </div>

    <!-- Liste -->
    <div th:if="${orders != null && !#lists.isEmpty(orders)}"
         style="display:flex; flex-direction:column; gap:12px;">

        <div class="hero__card profile-card order-card"
             th:each="o : ${orders}"
             style="padding:16px;">

            <div class="order-card__row" style="align-items:center; gap:14px;">

                <!-- Left -->
                <div style="min-width:0;">
                    <div style="display:flex; align-items:center; gap:10px; flex-wrap:wrap;">
                        <b style="font-size:16px;">
                            Bestellung #<span th:text="${o.id}">0</span>
                        </b>

                        <!-- âœ… Status Badge mit data-status (damit CSS greift) -->
                        <span class="hero__tag"
                              style="margin:0;"
                              th:attr="data-status=${o.status}"
                              th:text="${o.status}">
                            NEW
                        </span>
                    </div>

                    <div class="muted" style="margin-top:6px;">
                        <span>Datum:</span>
                        <span th:text="${#temporals.format(o.orderedAt, 'dd.MM.yyyy HH:mm')}">-</span>
                    </div>
                </div>

                <!-- Right -->
                <div style="margin-left:auto; display:flex; gap:8px; align-items:center;">
                    <a class="btn btn--primary btn--small"
                       th:href="@{/admin/orders/{id}(id=${o.id})}">
                        Bearbeiten
                    </a>
                </div>

            </div>
        </div>
    </div>

    <div class="btnRow" style="margin-top:16px">
        <a class="btn btn--ghost" th:href="@{/admin}">
            â¬… ZurÃ¼ck zum Dashboard
        </a>
    </div>

</div>
</html>
