<!doctype html>
<html lang="de" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout('Admin Â· Produkt', ~{::content})}">

<div th:fragment="content">

    <div class="page-header">
        <h2>ðŸ§© Admin Â· Produkt</h2>
        <p class="muted">Bitte Felder ausfÃ¼llen und speichern.</p>
    </div>

    <!-- action: wenn productId existiert -> update, sonst create -->
    <form method="post"
          th:action="${productId} != null ? @{/admin/products/{id}(id=${productId})} : @{/admin/products}"
          class="hero__card profile-card">

        <label class="muted">Name</label>
        <input class="input" type="text" th:field="${productForm.name}" required />

        <label class="muted" style="margin-top:10px;">Beschreibung</label>
        <textarea class="input" rows="4" th:field="${productForm.description}" required></textarea>

        <div class="grid grid--2" style="margin-top:10px;">
            <div>
                <label class="muted">Preis (â‚¬)</label>
                <input class="input" type="number" step="0.01" min="0" th:field="${productForm.price}" required />
            </div>
            <div>
                <label class="muted">Lager</label>
                <input class="input" type="number" min="0" th:field="${productForm.stock}" required />
            </div>
        </div>

        <label class="muted" style="margin-top:10px;">Bild-URL (z.B. /static.css/produkt.images/mug.jpg)</label>
        <input class="input" type="text" th:field="${productForm.imageUrl}" />

        <label class="muted" style="margin-top:10px;">Kategorie</label>
        <select class="input" th:field="${productForm.categoryId}" required>
            <option th:each="c : ${categories}"
                    th:value="${c.id}"
                    th:text="${c.name}">Kategorie</option>
        </select>

        <div style="margin-top:10px;">
            <label class="muted">
                <input type="checkbox" th:field="${productForm.active}" />
                Aktiv
            </label>
        </div>

        <div class="btnRow" style="margin-top:16px;">
            <button class="btn btn--primary" type="submit">ðŸ’¾ Speichern</button>
            <a class="btn btn--ghost" th:href="@{/admin/products}">Abbrechen</a>
        </div>

    </form>

</div>
</html>
